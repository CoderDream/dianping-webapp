{"version":3,"sources":["containers/Home/components/Category/dataSource.js","containers/Home/components/Category/index.js","containers/Home/components/Discount/index.js","containers/Home/components/LikeItem/index.js","containers/Home/components/LikeList/dataSource.js","components/Loading/index.js","containers/Home/components/LikeList/index.js","containers/Home/components/Banner/index.js","containers/Home/components/HomeHeader/index.js","components/Footer/index.js","containers/Home/index.js"],"names":["dataSource","name","src","Category","react_default","a","createElement","className","lib_default","dots","arrows","slidesToShow","swipeToSlide","autoplay","map","section","index","key","item","i","alt","Component","Discount","data","this","props","href","react_router_dom","id","to","concat","width","height","picture","shop","currentPrice","oldPrice","LikeItem","_this$props$data","tag","product","saleDesc","shopId","Loading","LikeList","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleScroll","visibleHeight","document","documentElement","clientHeight","myRef","current","offsetTop","actualHeight","offsetHeight","scrollTop","loadLikes","React","createRef","state","loadCounts","removeListener","_this$props","pageCount","ref","components_LikeItem","components_Loading","addEventListener","removeEventListener","Banner","style","dark","backgroundImage","HomeHeader","Footer","Home","likes","discounts","components_HomeHeader","components_Banner","components_Category","components_Discount","components_LikeList","components_Footer","loadDiscount","connect","getLikes","getDiscounts","getPageCountOfLikes","dispatch","homeActions","loadDiscounts"],"mappings":"8KA+IeA,EA/II,CACf,CACI,CACIC,KAAM,2BACNC,IACI,2EAER,CACID,KAAM,eACNC,IAAK,iEAET,CACID,KAAM,2BACNC,IACI,qEAER,CACID,KAAM,eACNC,IAAK,gEAET,CACID,KAAM,eACNC,IAAK,gEAET,CACID,KAAM,eACNC,IAAK,gEAET,CACID,KAAM,eACNC,IAAK,+DAET,CACID,KAAM,2BACNC,IAAK,6DAET,CACID,KAAM,MACNC,IACI,qEAER,CACID,KAAM,2BACNC,IAAK,iEAGb,CACI,CACID,KAAM,2BACNC,IACI,uEAER,CACID,KAAM,eACNC,IACI,kEAER,CACID,KAAM,eACNC,IAAK,+DAET,CACID,KAAM,2BACNC,IACI,kEAER,CACID,KAAM,eACNC,IACI,sEAER,CACID,KAAM,eACNC,IAAK,+DAET,CACID,KAAM,eACNC,IAAK,gEAET,CACID,KAAM,eACNC,IACI,mEAER,CACID,KAAM,2BACNC,IAAK,mDAET,CACID,KAAM,2BACNC,IAAK,iEAGb,CACI,CACID,KAAM,2BACNC,IACI,wEAER,CACID,KAAM,qBACNC,IACI,kEAER,CACID,KAAM,qBACNC,IACI,qEAER,CACID,KAAM,eACNC,IAAK,+DAET,CACID,KAAM,2BACNC,IAAK,gEAET,CACID,KAAM,kBACNC,IAAK,iEAET,CACID,KAAM,eACNC,IACI,kEAER,CACID,KAAM,2BACNC,IACI,sEAER,CACID,KAAM,2BACNC,IACI,oEAER,CACID,KAAM,2BACNC,IAAK,gECzFFC,0LAlCP,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAACE,EAAAH,EAVQ,CACbI,MAAM,EACNC,QAAQ,EACRC,aAAc,EACdC,cAAc,EACdC,UAAU,GAMDb,EAAWc,IAAI,SAACC,EAASC,GACtB,OACIZ,EAAAC,EAAAC,cAAA,OAAKW,IAAKD,GACLD,EAAQD,IAAI,SAACI,EAAMC,GAChB,OACIf,EAAAC,EAAAC,cAAA,OACIC,UAAU,oBACVU,IAAKE,GAELf,EAAAC,EAAAC,cAAA,OA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","file":"static/js/4.fddf4de0.chunk.js","sourcesContent":["const dataSource = [\r\n    [\r\n        {\r\n            name: '猫眼电影',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20170223152109dp_wx_maoyan_icon.png'\r\n        },\r\n        {\r\n            name: '酒店',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126203337jiudian.png'\r\n        },\r\n        {\r\n            name: '休闲娱乐',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160126202841xiuxianyule.png'\r\n        },\r\n        {\r\n            name: '外卖',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126203251waimai.png'\r\n        },\r\n        {\r\n            name: '火锅',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160204172927huoguo.png'\r\n        },\r\n        {\r\n            name: '美食',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126194705meishi.png'\r\n        },\r\n        {\r\n            name: '丽人',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126202946liren.png'\r\n        },\r\n        {\r\n            name: '休闲娱乐',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126203542ktv.png'\r\n        },\r\n        {\r\n            name: 'KTV',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160126203440zhoubianyou.png'\r\n        },\r\n        {\r\n            name: '婚纱摄影',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126203830jiehun.png'\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            name: '生活服务',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20170308125500community_new.png'\r\n        },\r\n        {\r\n            name: '景点',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160126205135jingguan.png'\r\n        },\r\n        {\r\n            name: '爱车',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126203742aiche.png'\r\n        },\r\n        {\r\n            name: '运动健身',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160126203617jianshen.png'\r\n        },\r\n        {\r\n            name: '购物',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160314121215icongouwu135.png'\r\n        },\r\n        {\r\n            name: '亲子',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126203905qinzi.png'\r\n        },\r\n        {\r\n            name: '到家',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126203812daojia.png'\r\n        },\r\n        {\r\n            name: '家装',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20161213162031zhuangxiu.png'\r\n        },\r\n        {\r\n            name: '学习培训',\r\n            src: 'https://www.dpfile.com/gp/cms/1455525720807.png'\r\n        },\r\n        {\r\n            name: '医疗健康',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160126204327yiliao.png'\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            name: '小吃快餐',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160204173331xiaochikuaican.png'\r\n        },\r\n        {\r\n            name: '自助餐',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160204173511zizhucan.png'\r\n        },\r\n        {\r\n            name: '日本菜',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160415121719rihanliaoli.png'\r\n        },\r\n        {\r\n            name: '美发',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160316142804meifa.png'\r\n        },\r\n        {\r\n            name: '美甲美瞳',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160316143047meijia.png'\r\n        },\r\n        {\r\n            name: '美容SPA',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160316143239meirong.png'\r\n        },\r\n        {\r\n            name: '瘦身',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160316143316shoushen.png'\r\n        },\r\n        {\r\n            name: '亲子摄影',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160316143612qinzisheying.png'\r\n        },\r\n        {\r\n            name: '亲子娱乐',\r\n            src:\r\n                'https://www.dpfile.com/sc/eleconfig/20160316143656qinziyoule.png'\r\n        },\r\n        {\r\n            name: '全部分类',\r\n            src: 'https://www.dpfile.com/sc/eleconfig/20160125182200more.png'\r\n        }\r\n    ]\r\n]\r\n\r\nexport default dataSource","import React, { Component } from 'react'\r\nimport Slider from 'react-slick'\r\nimport dataSource from './dataSource'\r\nimport './style.css'\r\n\r\nclass Category extends Component {\r\n    render() {\r\n        const settings = {\r\n            dots: true,\r\n            arrows: false,\r\n            slidesToShow: 1,\r\n            swipeToSlide: true,\r\n            autoplay: true\r\n        }\r\n\r\n        return (\r\n            <div className=\"category\">\r\n                <Slider {...settings}>\r\n                    {dataSource.map((section, index) => {\r\n                        return (\r\n                            <div key={index}>\r\n                                {section.map((item, i) => {\r\n                                    return (\r\n                                        <div\r\n                                            className=\"category__section\"\r\n                                            key={i}\r\n                                        >\r\n                                            <img\r\n                                                className=\"category__icon\"\r\n                                                src={item.src}\r\n                                                alt=\"加载图片\"\r\n                                            />\r\n                                            <div>\r\n                                                <span className=\"category__text\">\r\n                                                    {item.name}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </Slider>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Category\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './style.css'\r\n\r\nclass Discount extends Component {\r\n    render() {\r\n        const { data } = this.props\r\n        return (\r\n            <div className=\"discount\">\r\n                <a className=\"discount__header\" href=\"/\">\r\n                    <span className=\"discount__title\">超值特惠</span>\r\n                    <span className=\"discount__more\">更多优惠</span>\r\n                    <span className=\"discount__arrow\" />\r\n                </a>\r\n                <div className=\"discount__content\">\r\n                    {data.map((item, index) => {\r\n                        return (\r\n                            <Link\r\n                                key={item.id}\r\n                                to={`/detail/${item.id}`}\r\n                                className=\"discount__item\"\r\n                            >\r\n                                <div className=\"discount__itemPic\">\r\n                                    <img\r\n                                        width=\"100%\"\r\n                                        height=\"100%\"\r\n                                        src={item.picture}\r\n                                        alt=\"123\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"discount__itemTitle\">\r\n                                    {item.shop}\r\n                                </div>\r\n                                <div className=\"discount__itemPriceWrapper\">\r\n                                    <ins className=\"discount__itemCurrentPrice\">\r\n                                        {item.currentPrice}\r\n                                    </ins>\r\n                                    <del className=\"discount__itemOldPrice\">\r\n                                        {item.oldPrice}\r\n                                    </del>\r\n                                </div>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Discount\r\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './style.css'\n\nclass LikeItem extends Component {\n    render() {\n        const {\n            id,\n            shop,\n            tag,\n            picture,\n            product,\n            currentPrice,\n            oldPrice,\n            saleDesc\n        } = this.props.data\n        return (\n            <Link className=\"likeItem\" to={`/detail/${id}`}>\n                <div className=\"likeItem__picContainer\">\n                    <div className=\"likeItem__picTag\">{tag}</div>\n                    <img className=\"likeItem__pic\" src={picture} alt=\"加载\"/>\n                </div>\n                <div className=\"likeItem__content\">\n                    <div className=\"likeItem__shop\">{shop}</div>\n                    <div className=\"likeItem__product\">{product}</div>\n                    <div className=\"likeItem__detail\">\n                        <div className=\"likeItem__price\">\n                            <ins className=\"likeItem__currentPrice\">\n                                {currentPrice}\n                            </ins>\n                            <del className=\"likeItem__oldPrice\">{oldPrice}</del>\n                        </div>\n                        <div className=\"likeItem__sale\">{saleDesc}</div>\n                    </div>\n                </div>\n            </Link>\n        )\n    }\n}\n\nexport default LikeItem\n","const dataSource = [\r\n    {\r\n        id: 'p-1',\r\n        shopId: 's-1',\r\n        shop: '院落创意菜',\r\n        tag: '免预约',\r\n        picture:\r\n            'https://p0.meituan.net/deal/e6864ed9ce87966af11d922d5ef7350532676.jpg.webp@180w_180h_1e_1c_1l_80q|watermark=0',\r\n        product: '「5店通用」百香果（冷饮）1扎',\r\n        currentPrice: 19.9,\r\n        oldPrice: 48,\r\n        saleDesc: '已售6034'\r\n    },\r\n    {\r\n        id: 'p-2',\r\n        shopId: 's-2',\r\n        shop: '正一味',\r\n        tag: '免预约',\r\n        picture:\r\n            'https://p0.meituan.net/deal/4d32b2d9704fda15aeb5b4dc1d4852e2328759.jpg%40180w_180h_1e_1c_1l_80q%7Cwatermark%3D0',\r\n        product: '[51店通用] 肥牛石锅拌饭+鸡蛋羹1份',\r\n        currentPrice: 29,\r\n        oldPrice: 41,\r\n        saleDesc: '已售15500'\r\n    },\r\n    {\r\n        id: 'p-3',\r\n        shopId: 's-3',\r\n        shop: 'Salud冻酸奶',\r\n        tag: '免预约',\r\n        picture:\r\n            'https://p0.meituan.net/deal/b7935e03809c771e42dfa20784ca6e5228827.jpg.webp@180w_180h_1e_1c_1l_80q|watermark=0',\r\n        product: '[28店通用] 冻酸奶（小杯）1杯',\r\n        currentPrice: 20,\r\n        oldPrice: 25,\r\n        saleDesc: '已售88719'\r\n    },\r\n    {\r\n        id: 'p-4',\r\n        shopId: 's-4',\r\n        shop: '吉野家',\r\n        tag: '免预约',\r\n        picture:\r\n            'https://p0.meituan.net/deal/63a28065fa6f3a7e88271d474e1a721d32912.jpg%40180w_180h_1e_1c_1l_80q%7Cwatermark%3D0',\r\n        product: '吉汁烧鱼+中杯汽水/紫菜蛋花汤1份',\r\n        currentPrice: 14,\r\n        oldPrice: 23.5,\r\n        saleDesc: '已售53548'\r\n    },\r\n    {\r\n        id: 'p-5',\r\n        shopId: 's-5',\r\n        shop: '醉面 一碗醉香的肉酱面',\r\n        tag: '免预约',\r\n        picture:\r\n            'https://p1.meituan.net/deal/a5d9800b5879d596100bfa40ca631396114262.jpg.webp@180w_180h_1e_1c_1l_80q|watermark=0',\r\n        product: '[7店通用] 单人套餐',\r\n        currentPrice: 17.5,\r\n        oldPrice: 20,\r\n        saleDesc: '已售23976'\r\n    }\r\n]\r\nexport default dataSource\r\n","import React, { Component } from 'react'\r\nimport './style.css'\r\n\r\nclass Loading extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"loading\">\r\n                <div className=\"loading__img\" />\r\n                <span>正在加载...</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loading\r\n","import React, { Component } from 'react'\nimport LikeItem from '../LikeItem'\nimport dataSource from './dataSource'\nimport './style.css'\nimport Loading from '../../../../components/Loading';\n\nclass LikeList extends Component {\n    constructor(props) {\n        super(props)\n        this.myRef = React.createRef()\n        this.state = {\n            data: dataSource,\n            loadCounts: 1,\n        }\n        this.removeListener = false\n    }\n\n    render() {\n        const { data, pageCount } = this.props\n        return (\n            <div className=\"likeList\" ref={this.myRef}>\n                <div className=\"likeList__header\">猜你喜欢</div>\n                <div className=\"likeList__list\">\n                    {data.map((item, index) => {\n                        return <LikeItem key={index} id={item.id} data={item} />\n                    })}\n                </div>\n                {pageCount < 3 ? <Loading /> : <a className=\"likeList__viewAll\" href=\"/\">查看更多</a>}\n            </div>\n        )\n    }\n\n    componentDidMount() {\n        const { pageCount } = this.props\n        // 页面加载三次后结束\n        if (pageCount < 3) {\n            document.addEventListener('scroll', this.handleScroll)\n        } else {\n            this.removeListener = true\n        }\n        // 页面第一次加载时候才发送请求，其余时刻利用redux数据缓存\n        if (this.props.pageCount === 0) {\n            this.props.loadLikes()\n        }\n    }\n\n    handleScroll = () => {\n        // LikeList组件首页可视高度 = 当前窗口高度 - LikeList组件offsetTop\n        const visibleHeight =\n        document.documentElement.clientHeight - this.myRef.current.offsetTop\n        // LikeList组件实际高度\n        const actualHeight = this.myRef.current.offsetHeight\n        // 滚动高度\n        const scrollHeight = document.documentElement.scrollTop\n        // 可视高度 + 滚动高度 >= LikeList组件实际高度时就加载\n        if (scrollHeight + visibleHeight >= actualHeight) {\n            this.props.loadLikes()\n        }\n    }\n\n    componentDidUpdate() {\n        const { pageCount } = this.props\n        if (!this.removeListener && pageCount >= 3) {\n            document.removeEventListener('scroll', this.handleScroll)\n            this.removeListener = true\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.removeListener) {\n            document.removeEventListener('scroll', this.handleScroll)\n            this.removeListener = true\n        }\n    }\n}\n\nexport default LikeList\n","import React, { Component } from 'react'\nimport './style.css'\n\nclass Banner extends Component {\n    render() {\n        const { dark } = this.props\n        const style = dark\n            ? {\n                  backgroundImage:\n                      'url(https://www.dpfile.com/app/node-mobile-m-isomorphism-web/static/ee72da6bea423a71f81c4e0be8a1dcf7.png)'\n              }\n            : null\n        return (\n            <header className=\"banner\" style={style}>\n                <div className=\"banner__title\">\n                    <span className=\"banner__logo\" />\n                    <span className=\"banner__text\">吃喝玩乐，找优惠</span>\n                </div>\n                <div className=\"banner__btns\">\n                    <a\n                        className=\"banner__btn\"\n                        href=\"https://evt.dianping.com/synthesislink/6702.html\"\n                    >\n                        打开大众点评\n                    </a>\n                    <a\n                        className=\"banner__btn banner__btn--bg\"\n                        href=\"https://m.dianping.com/download/redirect?id=11186\"\n                    >\n                        下载APP享特价\n                    </a>\n                </div>\n            </header>\n        )\n    }\n}\n\nexport default Banner\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './style.css'\n\nclass HomeHeader extends Component {\n    render() {\n        return (\n            <div className=\"homeHeader\">\n                <header className=\"homeHeader__wrapper\">\n                    <a href=\"/\" className=\"homeHeader__city\">北京</a>\n                    <Link to=\"/search\" className=\"homeHeader__search\">输入商户名、地点</Link>\n                    <Link to=\"/user\" className=\"homeHeader__self\">\n                        <div className=\"homeHeader__portrait\" />\n                    </Link>\n                </header>\n            </div>\n        )\n    }\n}\n\nexport default HomeHeader\n","import React, { Component } from 'react'\nimport './style.css'\n\nclass Footer extends Component {\n    render() {\n        return (\n            <footer className=\"footer\">\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    我的\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    社区论坛\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    添加商户\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    意见反馈\n                </a>\n                <br />\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    美团网\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    美团下载\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    结婚\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    亲子\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    家装\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    宴会\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    教育\n                </a>\n                <br />\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    电脑版\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <a\n                    className=\"footer__link\"\n                    href=\"https://m.dianping.com/nmy/myinfo\"\n                >\n                    客户端\n                </a>\n                <em className=\"footer__seperator\">|</em>\n                <br />\n                <p className=\"footer__copyright\">\n                    copyright ©2018 dianping.com\n                </p>\n            </footer>\n        )\n    }\n}\n\nexport default Footer\n","import React, { Component } from 'react'\r\nimport Category from './components/Category';\r\nimport Discount from './components/Discount';\r\nimport LikeList from './components/LikeList';\r\nimport Banner from './components/Banner';\r\nimport HomeHeader from './components/HomeHeader';\r\nimport Footer from '../../components/Footer';\r\nimport { connect } from 'react-redux';\r\nimport { actions as homeActions, getLikes, getDiscounts, getPageCountOfLikes } from '../../redux/modules/home'\r\n\r\n\r\nclass Home extends Component {\r\n    render() {\r\n        const { likes, discounts, pageCount, loadLikes } = this.props\r\n        return (\r\n            <div>\r\n                <HomeHeader />\r\n                <Banner />\r\n                <Category />\r\n                <Discount data={discounts}/>\r\n                <LikeList data={likes} pageCount={pageCount} loadLikes={loadLikes}/>\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        // 组件挂载完成后，发送action，向服务器请求数据\r\n        this.props.loadDiscount()\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        likes: getLikes(state),\r\n        discounts: getDiscounts(state),\r\n        pageCount: getPageCountOfLikes(state)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        loadLikes: () => {\r\n            dispatch(homeActions.loadLikes())\r\n        },\r\n        loadDiscount: () => {\r\n            dispatch(homeActions.loadDiscounts())\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\r\n"],"sourceRoot":""}